{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Activity</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <div class="dashboard-container">
    <nav class="sidebar">
        <div class="sidebar-logo">
            <img src="{% static 'static_images/EcoSort logo.jfif' %}" alt="EcoSort Logo">
        </div>
        <ul>
            <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
            <li><a href="{% url 'company_list' %}">Companies</a></li>
            <li><a href="{% url 'my_activity' %}">My Activities</a></li>
            <li><a href="{% url 'request_pickup' %}">Request Pickup</a></li>
            <li><a href="{% url 'upgrade_request' %}" class="upgrade-link">Request Company Upgrade</a></li>
            <li class="sidebar-dropdown">
            <button class="sidebar-dropbtn">Rewards</button>
                <div class="sidebar-dropdown-content">
                    <a href="{% url 'rewards' %}">My Rewards</a>
                    <a href="{% url 'redeem' %}">Redeem Tokens</a>
                    <a href="{% url 'transactions' %}">Transaction History</a>
                </div>
            </li>
            <li class="sidebar-dropdown">
            <button class="sidebar-dropbtn">Support</button>
                <div class="sidebar-dropdown-content">
                    <a href="{% url 'customer_care' %}">Customer Care</a>
                    <a href="{% url 'report_issue' %}">Report Issue</a>
                    <a href="{% url 'feedback' %}">Feedback</a>
                </div>
            </li>
            <li><a href="{% url 'profile' %}">Profile</a></li>
            <li><a href="{% url 'logout' %}">Logout</a></li>
        </ul>
    </nav>

    


    <div class="auth_container">
        <div class="auth-box">
            <div class="WRL">
                <h2>My Activity</h2>
                <h3>My Pickup Requests</h3>
            </div>
            <div class="activity-list">
                {% for pickup in pickup_requests %}
                    <div class="activity-card">
                        <strong>Company:</strong> {{ pickup.company.name }}<br>
                        <strong>Address:</strong> {{ pickup.address }}<br>
                        <strong>Date:</strong> {{ pickup.scheduled_date }}<br>
                        <strong>Status:</strong> {{ pickup.status|title }}
                    </div>
                {% empty %}
                    <div class="activity-card empty">No pickup requests yet.</div>
                {% endfor %}
            </div>
            <a class="pickup-link" href="{% url 'request_pickup' %}">Request another pickup</a>
        </div>
    </div>
</body>
</html>